"use strict";

function run(fn) {
  return fn();
}
function blank_object() {
  return Object.create(null);
}
function run_all(fns) {
  fns.forEach(run);
}

let current_component;
function set_current_component(component) {
  current_component = component;
}
let on_destroy;
function create_ssr_component(fn) {
  function $$render(result, props, bindings, slots, context) {
    const parent_component = current_component;
    const $$ = {
      on_destroy,
      context: new Map(
        parent_component ? parent_component.$$.context : context || []
      ),
      // these will be immediately discarded
      on_mount: [],
      before_update: [],
      after_update: [],
      callbacks: blank_object(),
    };
    set_current_component({ $$ });
    const html = fn(result, props, bindings, slots);
    set_current_component(parent_component);
    return html;
  }
  return {
    render: (props = {}, { $$slots = {}, context = new Map() } = {}) => {
      on_destroy = [];
      const result = { title: "", head: "", css: new Set() };
      const html = $$render(result, props, {}, $$slots, context);
      run_all(on_destroy);
      return {
        html,
        css: {
          code: Array.from(result.css)
            .map((css) => css.code)
            .join("\n"),
          map: null, // TODO
        },
        head: result.title + result.head,
      };
    },
    $$render,
  };
}

/* public/index.html generated by Svelte v3.42.4 */

const Public = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  return `<!DOCTYPE html>
<html lang="${"en"}"><head><meta charset="${"utf-8"}">
    <meta name="${"viewport"}" content="${"width=device-width,initial-scale=1"}">

    <link rel="${"icon"}" type="${"image/png"}" href="${"/favicon.png"}">
    <link rel="${"stylesheet"}" href="${"/global.css"}">
    <link rel="${"stylesheet"}" href="${"/build/bundle.css"}">

    <script defer src="${"/build/bundle.js"}"></script></head>

  <body></body>
  <script src="${"http://code.jquery.com/jquery-latest.min.js"}"></script>
  <script src="${"../chat.js"}"></script></html>`;
});

module.exports = Public;
